TagTree
=======

TagTree is an experimental UI framework written in Dart, inspired by React.

Concepts
========

TagTree is based on streams of values that form animations. These values
are usually [Tags] [1]. Each Tag, together with its descendant Tags, can be
thought of like a single frame in an animation.

The animations in TagTree are generated by [Animators] [2]. An Animator
takes a stream of inputs and generates a stream of Tags, possibly at a
different (varying) frame rate.

There are two ways that a TagTree-based animation can move. The simplest
way is that the Animator that's generating the animation can decide to
render another frame. A second way is that parts of a rendered frame can
move on their own.

This is sort of like a slide show where some slides contain animated gifs
or videos. Moving to the next slide will cause movement, but the slides
themselves can contain animations too.

In TagTree, these animations can be nested to any number of levels. As
result, they form a tree structure, similar to the HTML elements in a
web page. In fact, the animations in TagTree are implemented on top of
HTML elements.

So, TagTree can also be thought of as a React-like UI component library,
implementing a virtual DOM containing regular HTML elements and custom
tags. TagTree uses a different (and I think cooler) metaphor to implement
similar functionality.

Since the nested animations in TagTree can move on their own, we need a
way to keep track of their state. In TagTree, the state of an animation
is always stored in a [Place] [3]. This allows Tags and Animators to be
immutable values that can be shared between multiple animations, for a
somewhat more functional style than React.

(If you want to use a more traditional object-oriented style, you can
subclass Place and think of it as a view object. TagTree isolates each
Place from other animations, so this is just an implementation detail.
All communication between animations happens using Tag streams.)

The Tag-Animator-Place trio is the design pattern at the heart of a
TagTree-based user interface. Whether you use TagTree or not, I hope you
find it a useful alternative to Model-View-Controller.

Optional Features
=================

Actually, there's a third way that an animation can move: its Theme can
change. A Theme provides Animators for a bunch of Tags at once and
switching Themes will usually restart any animations in progress.
(Besides styling, Themes can also be thought of as a way to do dependency
injection.)

TagTree provides a simple JSON-based codec and basic support for RPC, so
that Tags and events can be sent over the network. This allows a user
interface to be split between client and server, using a WebSocket.
(This makes an interesting demo, but it will need more work to be secure
and reliable enough to use on something other than localhost.) 

TemplateTag and AnimatedTag are convenience classes that combine a Tag and
its Animator. They're a useful shortcut when you don't care about Themes or
RPC, as is the case in most of the examples.

Examples
========

For comparison, I translated a couple of [Dart examples] [4] to TagTree,
along with all the [examples from React's front page] [5]. [PixelPaint] [6]
is a slightly larger example that can be run either entirely in the browser
or client-server.

I don't have an online demo page set up yet, so for now you will need to
check out the repository and launch the demos from inside the Dart Editor.

 - Brian

[1]: https://github.com/google/dart-tagtree/blob/master/lib/src/core/tag.dart
[2]: https://github.com/google/dart-tagtree/blob/master/lib/src/core/animator.dart
[3]: https://github.com/google/dart-tagtree/blob/master/lib/src/core/place.dart
[4]: https://github.com/google/dart-tagtree/tree/master/example/dart-demos
[5]: https://github.com/google/dart-tagtree/tree/master/example/react-demos
[6]: https://github.com/google/dart-tagtree/tree/master/example/pixelpaint

